@page "/Account"
@inject NavigationManager NavManager
@using Newtonsoft.Json;


<MudImage Src="https://i.imgur.com/54e6tXY.png" Alt="Mony the dog" Elevation="25" Class="rounded-lg" Width="200" Height="150"/>
<MudText Align="Align.Center" Typo="Typo.h4">Your Name</MudText>
<MudText Align="Align.Center" Typo="Typo.h4">Your email</MudText>
<MudText Align="Align.Center" Typo="Typo.h4">Your number</MudText>


<MudText Typo="Typo.h5">Change Password</MudText>
<MudText Typo="Typo.h5">Payment</MudText>
<MudText Typo="Typo.h5">Delivery Address</MudText>




<MudButton Class="mt-2" Variant="Variant.Filled" Color="Color.Inherit" Href="/">Logout</MudButton>

@code {
    /*
    private async Task LogOutUser()
    {
        HttpClient client = new HttpClient { BaseAddress = new Uri("https://farmersmercato.azurewebsites.net/api/log-in") };

        HttpResponseMessage response = null;
        response = await client.GetAsync(client.BaseAddress);

        var data = await response.Content.ReadAsStringAsync();
        dynamic accounts = JsonConvert.DeserializeObject(data);

        foreach (var account in accounts)
        {
            if (account.loggedIn == true)
            {
                UpdateLoggedInVar(account.username, false);
            }
        }

        NavManager.NavigateTo("/");

        return;
    }
    
    private async Task UpdateLoggedInVar(string username, bool isLoggedIn)
    {
        HttpClient client = new HttpClient { BaseAddress = new Uri("https://farmersmercato.azurewebsites.net/api/update-loggedIn-" + username) };

        HttpResponseMessage response = null;

        var payloadString = new StringContent(System.Text.Json.JsonSerializer.Serialize(isLoggedIn), System.Text.Encoding.UTF8, System.Net.Mime.MediaTypeNames.Application.Json);

        response = await client.PutAsync(client.BaseAddress, payloadString);

        return;
    }
    */
}

<style>
    center {
        text-align: center
    }

    #farmer-nav-bar {
        visibility: hidden;
    }
</style>